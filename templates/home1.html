{% extends 'base.html' %}
{% load static %}
{% block content %}

<!-- üåç Hero Section -->
<section class="hero d-flex align-items-center text-center text-white fade-in">
  <div class="container py-5">
    <h1 class="display-4 fw-bold mb-3">FindMe ‚Äî —Ä–∞–∑–æ–º –º–∏ –ø–æ–≤–µ—Ä—Ç–∞—î–º–æ –ª—é–¥–µ–π –¥–æ–¥–æ–º—É</h1>
    <p class="lead mb-4 opacity-75">–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –æ–±‚Äô—î–¥–Ω–∞–Ω–Ω—è –≤–æ–ª–æ–Ω—Ç–µ—Ä—ñ–≤, —Ä–æ–¥–∏—á—ñ–≤ —ñ –Ω–µ–±–∞–π–¥—É–∂–∏—Ö —É –ø–æ—à—É–∫—É –∑–Ω–∏–∫–ª–∏—Ö –ª—é–¥–µ–π –ø–æ –≤—Å—ñ–π –£–∫—Ä–∞—ó–Ω—ñ.</p>
    <div>
      <a href="{% url 'home' %}" class="btn btn-primary btn-lg px-4 py-2 me-2">üîç –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è</a>
      {% if user.is_authenticated %}
    {% if user.volunteer_profile %}
        <!-- –Ø–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–∂–µ –≤–æ–ª–æ–Ω—Ç–µ—Ä -->
        <a href="{% url 'volunteer_dashboard' %}" class="btn btn-success btn-lg">
            ü¶∫ –ö–∞–±—ñ–Ω–µ—Ç –≤–æ–ª–æ–Ω—Ç–µ—Ä–∞
        </a>
    {% else %}
        <!-- –Ø–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á —É–≤—ñ–π—à–æ–≤, –∞–ª–µ —â–µ –Ω–µ –≤–æ–ª–æ–Ω—Ç–µ—Ä -->
        <a href="{% url 'become_volunteer' %}" class="btn btn-outline-light btn-lg">
            ü§ù –°—Ç–∞—Ç–∏ –≤–æ–ª–æ–Ω—Ç–µ—Ä–æ–º
        </a>
    {% endif %}
{% else %}
    <!-- –Ø–∫—â–æ –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏–π -->
    <a href="{% url 'login' %}?next={% url 'become_volunteer' %}" class="btn btn-outline-light btn-lg">
        ü§ù –°—Ç–∞—Ç–∏ –≤–æ–ª–æ–Ω—Ç–µ—Ä–æ–º
    </a>
{% endif %}
    </div>
  </div>
</section>

<!-- üì∞ –û—Å—Ç–∞–Ω–Ω—ñ –Ω–æ–≤–∏–Ω–∏ -->
<section class="news py-5 fade-in">
  <div class="container">
    <h2 class="fw-bold text-center mb-5">üóûÔ∏è –û—Å—Ç–∞–Ω–Ω—ñ –Ω–æ–≤–∏–Ω–∏</h2>
    <div class="row g-4">
      {% for n in news %}
      <div class="col-md-4">
        <div class="card glass-card border-0 h-100">
          <img src="{{ n.image }}" class="card-img-top" alt="–ù–æ–≤–∏–Ω–∞">
          <div class="card-body">
            <h5 class="card-title fw-semibold">{{ n.title }}</h5>
            <p class="card-text text-muted">{{ n.description }}</p>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>

<!-- üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
<section class="stats text-center py-5 fade-in">
  <div class="container">
    <div class="row justify-content-center g-4">
      <div class="col-md-4 col-6">
        <div class="stat-box p-4 rounded-pill shadow-sm">
          <h2 class="fw-bold text-success">{{ stats.total_missing }}</h2>
          <p>–ó–Ω–∏–∫–ª–∏—Ö</p>
        </div>
      </div>
      <div class="col-md-4 col-6">
        <div class="stat-box p-4 rounded-pill shadow-sm">
          <h2 class="fw-bold text-info">{{ stats.found }}</h2>
          <p>–ó–Ω–∞–π–¥–µ–Ω–æ</p>
        </div>
      </div>
      <div class="col-md-4 col-6">
        <div class="stat-box p-4 rounded-pill shadow-sm">
          <h2 class="fw-bold text-primary">{{ stats.volunteers }}</h2>
          <p>–í–æ–ª–æ–Ω—Ç–µ—Ä—ñ–≤</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ü§ù CTA -->
<section class="cta text-center py-5 fade-in">
  <div class="container">
    <h2 class="fw-bold mb-3">–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ FindMe</h2>
    <p class="lead mb-4 mx-auto" style="max-width:700px;">–ö–æ–∂–µ–Ω –∫–ª—ñ–∫, —Ä–µ–ø–æ—Å—Ç —á–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –º–æ–∂–µ –¥–æ–ø–æ–º–æ–≥—Ç–∏ –∑–Ω–∞–π—Ç–∏ –ª—é–¥–∏–Ω—É. –°—Ç–∞–Ω—å—Ç–µ —á–∞—Å—Ç–∏–Ω–æ—é –∑–º—ñ–Ω —É–∂–µ —Å—å–æ–≥–æ–¥–Ω—ñ.</p>
    <a href="{% url 'register' %}" class="btn btn-success btn-lg shadow-sm">üíö –ü—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—å –∑–∞—Ä–∞–∑</a>
  </div>
</section>

<style>
  /* üåÑ Hero */
  .hero {
    background: linear-gradient(rgba(10, 15, 30, 0.55), rgba(10, 15, 30, 0.65)),
                url("{% static 'images/hero-bg.jpg' %}") center/cover no-repeat;
    min-height: 85vh;
    border-radius: 20px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.3);
    color: #fff !important;
  }

  html[data-theme="dark"] .hero {
    filter: brightness(1.15); /* —Ñ–æ—Ç–æ —Å—Ç–∞—î —Ç—Ä–æ—Ö–∏ —è—Å–∫—Ä–∞–≤—ñ—à–∏–º */
    color: #fff !important; /* —Ç–µ–∫—Å—Ç –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –±—ñ–ª–∏–º */
  }

  /* üóûÔ∏è –ù–æ–≤–∏–Ω–∏ */
  .glass-card {
    backdrop-filter: blur(16px);
    background-color: rgba(255,255,255,0.7);
    border-radius: 16px;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }

  html[data-theme="dark"] .glass-card {
    background-color: rgba(30, 30, 40, 0.7);
  }

  .glass-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0,0,0,0.2);
  }

  .glass-card img {
    border-top-left-radius: 16px;
    border-top-right-radius: 16px;
    height: 200px;
    object-fit: cover;
  }

  /* üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ */
  .stats {
    border-radius: 24px;
    background: linear-gradient(120deg, #1651d0, #03d697);
    color: #fff;
  }

  .stat-box {
    background: rgba(255,255,255,0.1);
    backdrop-filter: blur(10px);
    color: #fff;
    border: 1px solid rgba(255,255,255,0.15);
    transition: 0.3s;
  }

  .stat-box:hover {
    transform: translateY(-4px);
    background: rgba(255,255,255,0.2);
  }

  /* ü§ù CTA */
  .cta {
    background: linear-gradient(120deg, #e9f2ff, #f8fff8);
    border-radius: 20px;
  }

  html[data-theme="dark"] .cta {
    background: linear-gradient(120deg, #101828, #1e1e2e);
  }

  /* ‚ú® –ê–Ω—ñ–º–∞—Ü—ñ—ó */
  .fade-in {
    opacity: 0;
    transform: translateY(20px);
    animation: fadeInUp 0.7s ease forwards;
  }
  .hero h1,
.hero p {
  color: #ffffff !important;
  text-shadow: 0 2px 6px rgba(0,0,0,0.4); /* –ª–µ–≥–∫–∞ —Ç—ñ–Ω—å –¥–ª—è –∫–æ–Ω—Ç—Ä–∞—Å—Ç—É */
}

  @keyframes fadeInUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>
{% endblock %}
