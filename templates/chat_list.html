{% extends 'base.html' %}
{% block content %}
<h3 class="mb-4">üí¨ –ß–∞—Ç–∏</h3>
<p>–û–±–µ—Ä—ñ—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –¥–ª—è —Å–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—è:</p>

<ul class="list-group shadow-sm">
  {% for u in users %}
  <li class="list-group-item d-flex justify-content-between align-items-center">
    <div>
      <a href="{% url 'chat_detail' u.username %}" class="fw-semibold text-decoration-none text-dark">
        {{ u.username }}
      </a>
      {% if u.unread_count > 0 %}
        <span class="badge bg-danger ms-2">{{ u.unread_count }}</span>
      {% endif %}
      {% if u.last_time %}
        <small class="d-block text-muted">{{ u.last_time|date:"d.m.Y H:i" }}</small>
      {% endif %}
    </div>

    <!--  –Ü–∫–æ–Ω–∫–∞ —Ç–∞–∫–æ–∂ –≤—ñ–¥–∫—Ä–∏–≤–∞—î —á–∞—Ç -->
    <a href="{% url 'chat_detail' u.username %}" class="text-primary fs-5 text-decoration-none">
      <i class="bi bi-chat-dots"></i>
    </a>
  </li>
  {% empty %}
  <li class="list-group-item">–ù–µ–º–∞—î —á–∞—Ç—ñ–≤.</li>
  {% endfor %}
</ul>

<style>
  .list-group-item {
    transition: background-color 0.2s ease-in-out;
  }
  .list-group-item:hover {
    background-color: #f8f9fa;
  }
  body[data-theme='dark'] .list-group-item:hover {
    background-color: #2a2a3d;
  }
</style>
{% endblock %}
