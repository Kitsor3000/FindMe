{% extends 'base.html' %}
{% block content %}
<div class="row justify-content-center mt-5">
  <div class="col-md-4">
    <div class="card p-4 shadow-sm rounded-4">
      <h3 class="text-center mb-4 fw-bold">–í—Ö—ñ–¥ —É —Å–∏—Å—Ç–µ–º—É</h3>

      {# --- –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫–∏ –∞–±–æ –ø—ñ–¥–∫–∞–∑–∫–∏ --- #}
      {% if error_message %}
      <div class="alert alert-danger text-center" style="border-radius: 10px;">
        {{ error_message|safe }}
      </div>
      {% endif %}

      <form method="post" novalidate>
        {% csrf_token %}
        <div class="mb-3">
          <label for="id_username_or_email" class="form-label fw-semibold">–Ü–º‚Äô—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∞–±–æ –ø–æ—à—Ç–∞</label>
          <input type="text" id="id_username_or_email" name="username_or_email"
                 class="form-control rounded-3"
                 placeholder="–í–≤–µ–¥—ñ—Ç—å —ñ–º‚Äô—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∞–±–æ email"
                 required>
        </div>

        <div class="mb-3 position-relative">
          <label for="password" class="form-label fw-semibold">–ü–∞—Ä–æ–ª—å</label>
          <div class="input-group">
            <input type="password" name="password" id="password"
                   class="form-control rounded-start-3"
                   placeholder="–í–≤–µ–¥—ñ—Ç—å –ø–∞—Ä–æ–ª—å" required>
            <button type="button" class="btn btn-outline-secondary rounded-end-3" id="togglePassword" title="–ü–æ–∫–∞–∑–∞—Ç–∏ –ø–∞—Ä–æ–ª—å">
              <i class="bi bi-eye"></i>
            </button>
          </div>
        </div>

        <button type="submit" class="btn btn-primary w-100 mt-3 rounded-3 fw-semibold">
          –£–≤—ñ–π—Ç–∏
        </button>
      </form>

      <p class="text-center mt-3 text-muted">
        –ù–µ –º–∞—î—Ç–µ –∞–∫–∞—É–Ω—Ç–∞?
        <a href="{% url 'register' %}" class="fw-semibold text-decoration-none">–°—Ç–≤–æ—Ä–∏—Ç–∏</a>
      </p>
    </div>
  </div>
</div>

<script>
  // üëÅÔ∏è –ü–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –≤–∏–¥–∏–º–æ—Å—Ç—ñ –ø–∞—Ä–æ–ª—è
  document.getElementById('togglePassword').addEventListener('click', function() {
    const input = document.getElementById('password');
    const icon = this.querySelector('i');
    const hidden = input.type === 'password';
    input.type = hidden ? 'text' : 'password';
    icon.className = hidden ? 'bi bi-eye-slash' : 'bi bi-eye';
  });
</script>
{% endblock %}
